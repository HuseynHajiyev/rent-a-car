<div class="row d-flex justify-content-between py-3">
  <div class="col-3 border p-2">
    <h2 class="text-center">My Bookings</h2>
    <ul class="d-flex flex-column justify-content-evenly w-70 p-3">
      <% @bookings.each do |booking| %>
        <div>
          <li>Car: <%= booking.car.car_model %></li>
          <li>Start: <%=   booking.start_time %></li>
          <li>Price: €<%= booking.car.price %></li>
          <li>End: <%= booking.end_time %></li>
        </div>
        <div class="d-flex justify-content-start">
          <%= link_to "🗑️", booking_path(booking), method: :delete %>
        </div>
        <br>
      <% end %>
    </ul>
  </div>
  <div class="col-3 border p-2">
    <h2 class="text-center">Pending</h2>
    <ul class="d-flex flex-column justify-content-evenly w-70 p-3">
    <% @pending_bookings.each do |booking| %>
      <div>
        <li>Car: <%= booking.car.car_model %></li>
        <li>Start: <%=   booking.start_time %></li>
        <li>Price: €<%= booking.car.price %></li>
        <li>End: <%= booking.end_time %></li>
      </div>
      <div class="d-flex justify-content-between">
        <%= link_to "Accept ✅", booking_path(booking, name: "accept"), method: :patch, class: "btn btn-primary btn-sm" %>
        <%= link_to "Reject ❌", booking_path(booking, name: "decline"), method: :patch, class: "btn btn-secondary btn-sm" %>
      </div>
      <br>
    <% end %>
  </ul>
  </div>
  <div class="col-3 border p-2">
    <h2 class="text-center">Accepted</h2>
     <ul class="d-flex flex-column justify-content-evenly w-70 p-3">
      <% @accepted_bookings.each do |booking| %>
        <div>
          <li>Car: <%= booking.car.car_model %></li>
          <li>Start: <%=   booking.start_time %></li>
          <li>Price: €<%= booking.car.price %></li>
          <li>End: <%= booking.end_time %></li>
          <li>Status <%= booking.status.capitalize %></li>
        </div>
        <br>
      <% end %>
    </ul>
  </div>
  <div class="col-3 border p-2">
    <h2 class="text-center">My Cars</h2>
     <ul class="d-flex flex-column justify-content-evenly w-70 p-3">
      <% @cars.each do |car| %>
        <div class="border rounded">
          <li>Car: <%= car.car_model %></li>
          <li>Color: <%= car.color %></li>
          <li>Price: €<%= car.price %></li>
          <% if car.photo.attached?%>
            <%= cl_image_tag car.photo.key %>
          <% else %>
            <%= image_tag "https://res.cloudinary.com/wvala/image/upload/v1653656942/cld-sample.jpg", class: "w-100" %>
          <% end %>
          <div>
            <%= current_user == car.user && @bookings == nil ? (link_to "Delete your car", car_path(car), class: "btn card-button", method: :delete) : (link_to "Edit Bookings", dashboard_path(car)) %>
            <%= link_to "Edit this car", edit_car_path(car), class: "btn card-button" %>
          </div>
        </div>
        <br>
      <% end %>
    </ul>
  </div>
</div>
